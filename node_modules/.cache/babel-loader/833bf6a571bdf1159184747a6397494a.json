{"ast":null,"code":"import _classCallCheck from \"/Users/admin/Documents/GitHub/group21WildLifeRefuge/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport { getValue } from \"../helpers\";\nimport { bindEvents } from \"./events\";\nimport { getSceneManager } from \"../../scenes/SceneManager\";\nvar CapiAdapter = getValue(\"simcapi.CapiAdapter\", window);\nvar CapiModel = CapiAdapter && CapiAdapter.CapiModel;\nvar Transporter = getValue(\"simcapi.Transporter\", window);\n\nvar CAPI = function CAPI() {\n  var _this = this;\n\n  _classCallCheck(this, CAPI);\n\n  this.exposeKeys = function (keys) {\n    keys.forEach(function (key) {\n      if (key === \"simObjects\") return;\n      CapiAdapter.expose(key, _this.capiModel);\n    });\n  };\n\n  this.getTransporter = function () {\n    return Transporter;\n  };\n\n  this.getCapiAdapter = function () {\n    return CapiAdapter;\n  };\n\n  this.getCapiModel = function () {\n    return _this.capiModel;\n  };\n\n  this.getValue = function (_ref) {\n    var key = _ref.key;\n    return _this.capiModel.get(key);\n  };\n\n  this.setValue = function (_ref2) {\n    var key = _ref2.key,\n        value = _ref2.value;\n    return _this.capiModel.set(key, value);\n  };\n\n  var baseModel = require(\"../../model/capiModel\");\n\n  this.capiModel = new CapiModel(baseModel);\n  this.exposeKeys(Object.keys(baseModel));\n  bindEvents(this.capiModel);\n};\n\nCAPI.instance = null;\nexport var getCapiInstance = function getCapiInstance() {\n  if (!CAPI.instance) {\n    CAPI.instance = new CAPI();\n  }\n\n  return CAPI.instance;\n};","map":{"version":3,"sources":["/Users/admin/Documents/GitHub/group21WildLifeRefuge/src/utils/CAPI/capi.js"],"names":["getValue","bindEvents","getSceneManager","CapiAdapter","window","CapiModel","Transporter","CAPI","exposeKeys","keys","forEach","key","expose","capiModel","getTransporter","getCapiAdapter","getCapiModel","get","setValue","value","set","baseModel","require","Object","instance","getCapiInstance"],"mappings":";AAAA,SAASA,QAAT,QAAyB,YAAzB;AACA,SAASC,UAAT,QAA2B,UAA3B;AACA,SAASC,eAAT,QAAgC,2BAAhC;AAEA,IAAMC,WAAW,GAAGH,QAAQ,CAAC,qBAAD,EAAwBI,MAAxB,CAA5B;AACA,IAAMC,SAAS,GAAGF,WAAW,IAAIA,WAAW,CAACE,SAA7C;AACA,IAAMC,WAAW,GAAGN,QAAQ,CAAC,qBAAD,EAAwBI,MAAxB,CAA5B;;IAEMG,I,GACJ,gBAAe;AAAA;;AAAA;;AAAA,OAOfC,UAPe,GAOF,UAAAC,IAAI,EAAI;AACnBA,IAAAA,IAAI,CAACC,OAAL,CAAa,UAAAC,GAAG,EAAI;AAClB,UAAIA,GAAG,KAAK,YAAZ,EAA0B;AAC1BR,MAAAA,WAAW,CAACS,MAAZ,CAAmBD,GAAnB,EAAwB,KAAI,CAACE,SAA7B;AACD,KAHD;AAID,GAZc;;AAAA,OAcfC,cAde,GAcE,YAAM;AACrB,WAAOR,WAAP;AACD,GAhBc;;AAAA,OAkBfS,cAlBe,GAkBE,YAAM;AACrB,WAAOZ,WAAP;AACD,GApBc;;AAAA,OAsBfa,YAtBe,GAsBA,YAAM;AACnB,WAAO,KAAI,CAACH,SAAZ;AACD,GAxBc;;AAAA,OA0Bfb,QA1Be,GA0BJ,gBAAa;AAAA,QAAVW,GAAU,QAAVA,GAAU;AACtB,WAAO,KAAI,CAACE,SAAL,CAAeI,GAAf,CAAmBN,GAAnB,CAAP;AACD,GA5Bc;;AAAA,OA8BfO,QA9Be,GA8BJ,iBAAoB;AAAA,QAAjBP,GAAiB,SAAjBA,GAAiB;AAAA,QAAZQ,KAAY,SAAZA,KAAY;AAC7B,WAAO,KAAI,CAACN,SAAL,CAAeO,GAAf,CAAmBT,GAAnB,EAAwBQ,KAAxB,CAAP;AACD,GAhCc;;AACb,MAAME,SAAS,GAAGC,OAAO,CAAC,uBAAD,CAAzB;;AACA,OAAKT,SAAL,GAAiB,IAAIR,SAAJ,CAAcgB,SAAd,CAAjB;AACA,OAAKb,UAAL,CAAgBe,MAAM,CAACd,IAAP,CAAYY,SAAZ,CAAhB;AACApB,EAAAA,UAAU,CAAC,KAAKY,SAAN,CAAV;AACD,C;;AA8BHN,IAAI,CAACiB,QAAL,GAAgB,IAAhB;AAEA,OAAO,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AACnC,MAAI,CAAClB,IAAI,CAACiB,QAAV,EAAoB;AAClBjB,IAAAA,IAAI,CAACiB,QAAL,GAAgB,IAAIjB,IAAJ,EAAhB;AACD;;AACD,SAAOA,IAAI,CAACiB,QAAZ;AACD,CALM","sourcesContent":["import { getValue } from \"../helpers\";\nimport { bindEvents } from \"./events\";\nimport { getSceneManager } from \"../../scenes/SceneManager\";\n\nconst CapiAdapter = getValue(\"simcapi.CapiAdapter\", window);\nconst CapiModel = CapiAdapter && CapiAdapter.CapiModel;\nconst Transporter = getValue(\"simcapi.Transporter\", window);\n\nclass CAPI {\n  constructor () {\n    const baseModel = require(\"../../model/capiModel\");\n    this.capiModel = new CapiModel(baseModel);\n    this.exposeKeys(Object.keys(baseModel));\n    bindEvents(this.capiModel);\n  }\n\n  exposeKeys = keys => {\n    keys.forEach(key => {\n      if (key === \"simObjects\") return;\n      CapiAdapter.expose(key, this.capiModel);\n    });\n  }\n\n  getTransporter = () => {\n    return Transporter;\n  }\n\n  getCapiAdapter = () => {\n    return CapiAdapter;\n  }\n\n  getCapiModel = () => {\n    return this.capiModel;\n  }\n\n  getValue = ({ key }) => {\n    return this.capiModel.get(key);\n  }\n\n  setValue = ({ key, value }) => {\n    return this.capiModel.set(key, value);\n  }\n}\n\nCAPI.instance = null;\n\nexport const getCapiInstance = () => {\n  if (!CAPI.instance) {\n    CAPI.instance = new CAPI();\n  }\n  return CAPI.instance;\n};\n"]},"metadata":{},"sourceType":"module"}