{"ast":null,"code":"import _regeneratorRuntime from \"/Users/admin/Documents/GitHub/group21WildLifeRefuge/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/admin/Documents/GitHub/group21WildLifeRefuge/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { random } from \"../utils/helpers\";\nimport { getSceneManager } from \"./SceneManager\";\n\nvar THREE = window.THREE = require(\"three\");\n\nrequire(\"three/examples/js/loaders/GLTFLoader\");\n\nfunction GrassField(_x) {\n  return _GrassField.apply(this, arguments);\n}\n\nfunction _GrassField() {\n  _GrassField = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(scene) {\n    var config,\n        loader,\n        count,\n        grasses,\n        originalGrass,\n        bounds,\n        i,\n        grass,\n        size,\n        x,\n        z,\n        rotation,\n        grassMesh,\n        update,\n        _args = arguments;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            update = function _ref() {};\n\n            config = _args.length > 1 && _args[1] !== undefined ? _args[1] : {\n              count: 500\n            };\n            loader = new THREE.GLTFLoader();\n            count = config.count;\n            grasses = new THREE.Object3D();\n            _context.next = 7;\n            return new Promise(function (resolve, reject) {\n              loader.load(\"models/grass.gltf\", function (grass) {\n                return resolve(grass.scene || null);\n              }, undefined, reject);\n            });\n\n          case 7:\n            originalGrass = _context.sent;\n            bounds = getSceneManager().groundSize;\n            bounds.x *= 0.95;\n            bounds.y *= 0.95;\n\n            for (i = 0; i < count; i++) {\n              grass = originalGrass.clone();\n              grass.children[0].children[0].userData = {\n                selectable: true,\n                color: {\n                  highlight: \"#FFF\",\n                  original: \"#3baa5d\",\n                  selected: \"#FF00FF\"\n                }\n              };\n              size = random(1, 2);\n              x = random(-bounds.x / 2, bounds.x / 2);\n              z = random(-bounds.y / 2, bounds.y / 2);\n              rotation = random(-Math.PI / 2, Math.PI / 2);\n              grass.scale.set(size, size, size);\n              grass.position.set(x, 0, z);\n              grass.rotation.y = rotation;\n              grassMesh = grass.children[0].children[0].material;\n              grassMesh.color.set(grass.children[0].children[0].userData.color.original);\n              grass.children[0].children[0].material = grassMesh.clone();\n              grasses.add(grass);\n            }\n\n            grasses.type = \"Grass\";\n            scene.add(grasses);\n            return _context.abrupt(\"return\", {\n              update: update\n            });\n\n          case 15:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n  return _GrassField.apply(this, arguments);\n}\n\nexport default GrassField;","map":{"version":3,"sources":["/Users/admin/Documents/GitHub/group21WildLifeRefuge/src/scenes/GrassField.js"],"names":["random","getSceneManager","THREE","window","require","GrassField","scene","update","config","count","loader","GLTFLoader","grasses","Object3D","Promise","resolve","reject","load","grass","undefined","originalGrass","bounds","groundSize","x","y","i","clone","children","userData","selectable","color","highlight","original","selected","size","z","rotation","Math","PI","scale","set","position","grassMesh","material","add","type"],"mappings":"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","sourcesContent":["import { random } from \"../utils/helpers\";\nimport { getSceneManager } from \"./SceneManager\";\nconst THREE = (window.THREE = require(\"three\"));\nrequire(\"three/examples/js/loaders/GLTFLoader\");\n\nasync function GrassField (scene, config = { count: 500 }) {\n  const loader = new THREE.GLTFLoader();\n  const { count } = config;\n\n  const grasses = new THREE.Object3D();\n  const originalGrass = await new Promise((resolve, reject) => {\n    loader.load(\n      \"models/grass.gltf\",\n      grass => resolve(grass.scene || null),\n      undefined,\n      reject\n    );\n  });\n  const bounds = getSceneManager().groundSize;\n  bounds.x *= 0.95;\n  bounds.y *= 0.95;\n\n  for (let i = 0; i < count; i++) {\n    const grass = originalGrass.clone();\n    grass.children[0].children[0].userData = {\n      selectable: true,\n      color: {\n        highlight: \"#FFF\",\n        original: \"#3baa5d\",\n        selected: \"#FF00FF\"\n      }\n    };\n    const size = random(1, 2);\n\n    const x = random(-bounds.x / 2, bounds.x / 2);\n    const z = random(-bounds.y / 2, bounds.y / 2);\n\n    const rotation = random(-Math.PI / 2, Math.PI / 2);\n\n    grass.scale.set(size, size, size);\n    grass.position.set(x, 0, z);\n    grass.rotation.y = rotation;\n    const grassMesh = grass.children[0].children[0].material;\n    grassMesh.color.set(grass.children[0].children[0].userData.color.original);\n    grass.children[0].children[0].material = grassMesh.clone();\n    grasses.add(grass);\n  }\n\n  grasses.type = \"Grass\";\n\n  scene.add(grasses);\n\n  function update () {}\n\n  return {\n    update\n  };\n}\n\nexport default GrassField;\n"]},"metadata":{},"sourceType":"module"}